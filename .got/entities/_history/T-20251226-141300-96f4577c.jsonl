{"data": {"created_at": "2025-12-26T14:13:00.294928+00:00", "description": "## Problem\nVersionedStore has validate_on_save=False by default (versioned_store.py:49), meaning invalid entities can be persisted silently without schema validation.\n\n## Current State\n- SchemaRegistry provides comprehensive validation (schema.py)\n- VersionedStore._validate_entity() is implemented but opt-in\n- GoTManager creates VersionedStore without enabling validation\n- Invalid data can enter the system undetected\n\n## Solution\n1. Change default in VersionedStore:\n```python\ndef __init__(self, ..., validate_on_save: bool = True):  # Was False\n```\n\n2. Ensure GoTManager passes validate_on_save=True explicitly\n\n3. Add migration path for existing invalid data:\n   - Run validation on load to warn about issues\n   - Provide got_utils.py validate --fix command\n\n## Files\n- cortical/got/versioned_store.py:49 (default parameter)\n- cortical/got/api.py (GoTManager initialization)\n\n## Acceptance Criteria\n1. New entities are validated before save by default\n2. Invalid entity creation raises ValidationError\n3. Existing production data (.got/entities/) passes validation\n4. If existing data has issues, document them and provide fix path", "entity_type": "task", "id": "T-20251226-141300-96f4577c", "metadata": {}, "modified_at": "2025-12-26T14:13:00.298400+00:00", "priority": "high", "properties": {"category": "feature"}, "status": "pending", "title": "Enable validation by default in VersionedStore", "version": 2}, "global_version": 1213, "timestamp": "2025-12-26T15:27:39.641212+00:00"}
{"data": {"created_at": "2025-12-26T14:13:00.294928+00:00", "description": "## Problem\nVersionedStore has validate_on_save=False by default (versioned_store.py:49), meaning invalid entities can be persisted silently without schema validation.\n\n## Current State\n- SchemaRegistry provides comprehensive validation (schema.py)\n- VersionedStore._validate_entity() is implemented but opt-in\n- GoTManager creates VersionedStore without enabling validation\n- Invalid data can enter the system undetected\n\n## Solution\n1. Change default in VersionedStore:\n```python\ndef __init__(self, ..., validate_on_save: bool = True):  # Was False\n```\n\n2. Ensure GoTManager passes validate_on_save=True explicitly\n\n3. Add migration path for existing invalid data:\n   - Run validation on load to warn about issues\n   - Provide got_utils.py validate --fix command\n\n## Files\n- cortical/got/versioned_store.py:49 (default parameter)\n- cortical/got/api.py (GoTManager initialization)\n\n## Acceptance Criteria\n1. New entities are validated before save by default\n2. Invalid entity creation raises ValidationError\n3. Existing production data (.got/entities/) passes validation\n4. If existing data has issues, document them and provide fix path", "entity_type": "task", "id": "T-20251226-141300-96f4577c", "metadata": {"started_at": "2025-12-26T15:27:39.636597+00:00", "updated_at": "2025-12-26T15:27:39.636603+00:00"}, "modified_at": "2025-12-26T15:27:39.642128+00:00", "priority": "high", "properties": {"category": "feature"}, "status": "in_progress", "title": "Enable validation by default in VersionedStore", "version": 4}, "global_version": 1214, "timestamp": "2025-12-26T15:33:02.675186+00:00"}
