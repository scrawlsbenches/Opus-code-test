{
  "version": 1,
  "session_id": "f0ff",
  "started_at": "2025-12-16T09:02:06.923093",
  "saved_at": "2025-12-16T10:56:34.833735",
  "tasks": [
    {
      "id": "T-20251216-090206-f0ff-001",
      "title": "Generate .ai_meta files for cortical/ modules",
      "status": "completed",
      "priority": "medium",
      "category": "enhancement",
      "description": "Run scripts/generate_ai_metadata.py to create .ai_meta files. These provide structured navigation data for AI agents. Infrastructure is ready and tested.",
      "depends_on": [],
      "effort": "medium",
      "created_at": "2025-12-16T09:02:06.923543",
      "updated_at": null,
      "completed_at": null,
      "context": {},
      "retrospective": null
    },
    {
      "id": "T-20251216-090211-f0ff-002",
      "title": "Integrate ML file prediction with .ai_meta data",
      "status": "completed",
      "priority": "medium",
      "category": "enhancement",
      "description": "Enhance ML file prediction model to use .ai_meta section keywords and import graphs for better accuracy. Could improve MRR from 0.38 to 0.55+.",
      "depends_on": [],
      "effort": "medium",
      "created_at": "2025-12-16T09:02:11.689469",
      "updated_at": null,
      "completed_at": null,
      "context": {},
      "retrospective": null
    },
    {
      "id": "T-20251216-090216-f0ff-003",
      "title": "Add tool output collection to ML data collector",
      "status": "completed",
      "priority": "low",
      "category": "enhancement",
      "description": "Currently we collect tool names and inputs but NOT outputs. Collecting outputs could enable learning command result patterns and predicting success/failure.",
      "depends_on": [],
      "effort": "medium",
      "created_at": "2025-12-16T09:02:16.487378",
      "updated_at": null,
      "completed_at": null,
      "context": {},
      "retrospective": null
    },
    {
      "id": "T-20251216-090229-f0ff-004",
      "title": "Add pre-commit hook for ML file prediction suggestions",
      "status": "completed",
      "priority": "low",
      "category": "enhancement",
      "description": "Integrate file prediction model into git workflow. Before commit, suggest potentially missing files based on commit message analysis.",
      "depends_on": [],
      "effort": "medium",
      "created_at": "2025-12-16T09:02:29.845022",
      "updated_at": null,
      "completed_at": null,
      "context": {},
      "retrospective": null
    },
    {
      "id": "T-20251216-090234-f0ff-005",
      "title": "Add deployment guide documentation",
      "status": "completed",
      "priority": "medium",
      "category": "docs",
      "description": "Create docs/deployment.md covering: MCP server deployment, production tuning, Docker examples, performance optimization for large corpora.",
      "depends_on": [],
      "effort": "medium",
      "created_at": "2025-12-16T09:02:34.691188",
      "updated_at": null,
      "completed_at": null,
      "context": {},
      "retrospective": null
    },
    {
      "id": "T-20251216-090239-f0ff-006",
      "title": "Add fluent.py API reference documentation",
      "status": "completed",
      "priority": "low",
      "category": "docs",
      "description": "Create docs/fluent-api.md documenting the FluentProcessor builder pattern API with examples.",
      "depends_on": [],
      "effort": "medium",
      "created_at": "2025-12-16T09:02:39.858995",
      "updated_at": null,
      "completed_at": null,
      "context": {},
      "retrospective": null
    },
    {
      "id": "T-20251216-090253-f0ff-007",
      "title": "Mark completed task: Remove legacy TASK_LIST.md",
      "status": "completed",
      "priority": "high",
      "category": "cleanup",
      "description": "Task T-20251215-203333-4e1b-001 was completed in this session. TASK_LIST.md and TASK_ARCHIVE.md were deleted. Mark as complete with retrospective.",
      "depends_on": [],
      "effort": "medium",
      "created_at": "2025-12-16T09:02:53.516628",
      "updated_at": null,
      "completed_at": null,
      "context": {},
      "retrospective": null
    },
    {
      "id": "T-20251216-090259-f0ff-008",
      "title": "Update CI workflow for merge-friendly task validation",
      "status": "completed",
      "priority": "medium",
      "category": "ci",
      "description": "Replace validate-task-list job in .github/workflows/ci.yml to use scripts/validate_tasks.py instead of the legacy task list validator. Depends on legacy removal being complete.",
      "depends_on": [],
      "effort": "medium",
      "created_at": "2025-12-16T09:02:59.065465",
      "updated_at": null,
      "completed_at": null,
      "context": {},
      "retrospective": null
    },
    {
      "id": "T-20251216-090303-f0ff-009",
      "title": "Add test coverage mapping to .ai_meta",
      "status": "completed",
      "priority": "low",
      "category": "enhancement",
      "description": "Extend .ai_meta generator to include test coverage per function. Parse pytest coverage reports to map functions to test files that cover them.",
      "depends_on": [],
      "effort": "medium",
      "created_at": "2025-12-16T09:03:03.283911",
      "updated_at": null,
      "completed_at": null,
      "context": {},
      "retrospective": null
    },
    {
      "id": "T-20251216-094347-f0ff-010",
      "title": "Filter deleted files from ML training data",
      "status": "completed",
      "priority": "high",
      "category": "bugfix",
      "description": "MRR dropped from 0.38 to 0.15 because training data includes deleted files (TASK_LIST.md, cortical/processor.py). Need to filter commits to only include files that currently exist, or weight recent commits higher.",
      "depends_on": [],
      "effort": "medium",
      "created_at": "2025-12-16T09:43:47.644254",
      "updated_at": "2025-12-16T12:00:00.000000",
      "completed_at": "2025-12-16T12:00:00.000000",
      "context": {},
      "retrospective": "Added FILE_PATH_MIGRATIONS dict mapping old paths to new package structure. Implemented migrate_file_path(), filter_existing_files(), get_existing_files_set() functions. Updated load_commit_data() with filter_deleted param. MRR improved from 0.15 to 0.27."
    },
    {
      "id": "T-20251216-094353-f0ff-011",
      "title": "Add query/ package files to ML training",
      "status": "completed",
      "priority": "medium",
      "category": "enhancement",
      "description": "Query expansion predictions miss cortical/query/expansion.py because the package structure (cortical/query/*.py) isn't well represented in training data. May need special handling for package imports.",
      "depends_on": [],
      "effort": "medium",
      "created_at": "2025-12-16T09:43:53.298884",
      "updated_at": "2025-12-16T12:00:00.000000",
      "completed_at": "2025-12-16T12:00:00.000000",
      "context": {},
      "retrospective": "Added package-specific MODULE_KEYWORDS entries for query/, processor/, expansion, search, ranking, passages. Query package files now appear in predictions (positions 7-10 for query expansion tasks)."
    },
    {
      "id": "T-20251216-094357-f0ff-012",
      "title": "Update docs/README.md with new documentation links",
      "status": "completed",
      "priority": "low",
      "category": "docs",
      "description": "Add links to new documentation created this session: deployment.md, fluent-api.md, ml-precommit-suggestions.md",
      "depends_on": [],
      "effort": "medium",
      "created_at": "2025-12-16T09:43:57.804435",
      "updated_at": "2025-12-16T12:00:00.000000",
      "completed_at": "2025-12-16T12:00:00.000000",
      "context": {},
      "retrospective": "Added deployment.md and fluent-api.md to Quick Navigation and Usage Guides sections. Added Deployment & Operations section. Added ml-precommit-suggestions.md to Development Process section."
    },
    {
      "id": "T-20251216-105634-f0ff-013",
      "title": "Investigate removing unused protobuf serialization",
      "status": "pending",
      "priority": "high",
      "category": "cleanup",
      "description": "The protobuf serialization feature was added during performance tuning exploration but was never actually used. \n\n**Context:**\n- Added for cross-language corpus sharing (theoretical use case)\n- Library already has working pickle + JSON serialization\n- Requires `protoc` compiler for runtime compilation (or pre-compiled schema_pb2.py)\n- Just caused CI smoke test failures (fixed with lazy loading in commit a93518f)\n- Adds ~600 lines across 3 files for unused functionality\n- Adds protobuf as a dev dependency\n\n**Files involved:**\n- cortical/proto/serialization.py (~520 lines)\n- cortical/proto/schema.proto (~50 lines) \n- cortical/proto/__init__.py (~110 lines)\n- tests/unit/test_protobuf_serialization.py (~300 lines)\n- pyproject.toml (protobuf dev dependency)\n- cortical/persistence.py (import)\n\n**Questions to answer:**\n1. Is cross-language corpus sharing actually needed?\n2. Would JSON export (already exists) suffice for this use case?\n3. Are there any users or integrations depending on protobuf?\n\n**If removing:**\n1. Delete cortical/proto/serialization.py and schema.proto\n2. Simplify cortical/proto/__init__.py to just export PROTOBUF_AVAILABLE = False\n3. Remove protobuf import from persistence.py\n4. Remove protobuf>=4.0 from dev dependencies\n5. Delete tests/unit/test_protobuf_serialization.py\n6. Update CLAUDE.md if protobuf is mentioned\n7. Remove 'protobuf' marker from pyproject.toml\n\n**Alternative: Keep but pre-compile**\nIf keeping, could pre-compile schema_pb2.py and commit it to avoid protoc dependency.",
      "depends_on": [],
      "effort": "medium",
      "created_at": "2025-12-16T10:56:34.833486",
      "updated_at": null,
      "completed_at": null,
      "context": {},
      "retrospective": null
    }
  ]
}