{
  "hash": "f4dac181b0289fedd47f4d516e742c2e33af7688",
  "message": "Fix test_invalid_alpha to match updated alpha validation",
  "author": "Claude",
  "timestamp": "2025-12-13 10:37:25 +0000",
  "branch": "claude/multi-index-design-DvifZ",
  "files_changed": [
    "tests/unit/test_semantics.py"
  ],
  "insertions": 2,
  "deletions": 1,
  "hunks": [
    {
      "file": "tests/unit/test_semantics.py",
      "function": "class TestRetrofitEmbeddings:",
      "start_line": 734,
      "lines_added": [
        "        # alpha must be in [0, 1] - test values outside this range",
        "            retrofit_embeddings(embeddings, [], alpha=-0.1)"
      ],
      "lines_removed": [
        "            retrofit_embeddings(embeddings, [], alpha=0.0)"
      ],
      "context_before": [
        "",
        "    def test_empty_embeddings(self):",
        "        \"\"\"Empty embeddings produce no changes.\"\"\"",
        "        result = retrofit_embeddings({}, [])",
        "        assert result[\"terms_retrofitted\"] == 0",
        "        assert result[\"total_movement\"] == 0.0",
        "",
        "    def test_invalid_alpha(self):",
        "        \"\"\"Invalid alpha raises ValueError.\"\"\"",
        "        embeddings = {\"test\": [1.0, 2.0]}"
      ],
      "context_after": [
        "        with pytest.raises(ValueError, match=\"alpha must be between 0 and 1\"):",
        "",
        "        with pytest.raises(ValueError, match=\"alpha must be between 0 and 1\"):",
        "            retrofit_embeddings(embeddings, [], alpha=1.5)",
        "",
        "    def test_retrofitting_moves_embeddings(self):",
        "        \"\"\"Retrofitting moves related terms closer.\"\"\"",
        "        embeddings = {",
        "            \"dog\": [1.0, 0.0],",
        "            \"cat\": [0.0, 1.0],",
        "            \"animal\": [0.5, 0.5]"
      ],
      "change_type": "modify"
    }
  ],
  "hour_of_day": 10,
  "day_of_week": "Saturday",
  "seconds_since_last_commit": -184043,
  "is_merge": false,
  "is_initial": false,
  "parent_count": 1,
  "session_id": null,
  "related_chats": [],
  "ci_result": null,
  "reverted": false,
  "amended": false
}