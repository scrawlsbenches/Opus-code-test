{
  "hash": "7b4d784f54f1d8894a72d4bf8f5b19254590c686",
  "message": "Add polysemy demonstration and rename demo.py to showcase.py",
  "author": "Claude",
  "timestamp": "2025-12-09 20:59:41 +0000",
  "branch": "claude/multi-index-design-DvifZ",
  "files_changed": [
    "CLAUDE.md",
    "showcase.py"
  ],
  "insertions": 57,
  "deletions": 14,
  "hunks": [
    {
      "file": "CLAUDE.md",
      "function": "tests/",
      "start_line": 43,
      "lines_added": [
        "All 129 tests should pass.",
        "## Running the Showcase",
        "python showcase.py"
      ],
      "lines_removed": [
        "All 109 tests should pass.",
        "## Running the Demo",
        "python demo.py"
      ],
      "context_before": [
        "‚îú‚îÄ‚îÄ test_gaps.py",
        "‚îî‚îÄ‚îÄ test_persistence.py",
        "```",
        "",
        "## Running Tests",
        "",
        "```bash",
        "python -m unittest discover -s tests -v",
        "```",
        ""
      ],
      "context_after": [
        "",
        "",
        "```bash",
        "```",
        "",
        "## Key Classes",
        "",
        "### CorticalTextProcessor",
        "Main entry point. Coordinates document processing, computations, and queries.",
        "",
        "### HierarchicalLayer",
        "Manages minicolumns at a given hierarchy level. Has `get_by_id()` for O(1) lookups.",
        ""
      ],
      "change_type": "modify"
    },
    {
      "file": "showcase.py",
      "function": null,
      "start_line": 1,
      "lines_added": [
        "Cortical Text Processor Showcase",
        "================================",
        "This showcase processes a corpus of documents, demonstrating the",
        "hierarchical analysis of relationships between concepts, documents,",
        "and ideas across diverse topics."
      ],
      "lines_removed": [
        "Cortical Text Processor Demo",
        "============================",
        "This demo processes a corpus of documents, analyzing relationships",
        "between concepts, documents, and ideas across diverse topics."
      ],
      "context_before": [
        "\"\"\""
      ],
      "context_after": [
        "",
        "\"\"\"",
        "",
        "import os",
        "import sys",
        "from typing import Dict, List, Tuple",
        "",
        "from cortical import CorticalTextProcessor, CorticalLayer",
        "",
        "",
        "def print_header(title: str, char: str = \"=\"):"
      ],
      "change_type": "modify"
    },
    {
      "file": "showcase.py",
      "function": "def print_subheader(title: str):",
      "start_line": 28,
      "lines_added": [
        "class CorticalShowcase:",
        "    \"\"\"Showcases the cortical text processor with interesting analysis.\"\"\"",
        "",
        "",
        "        self.demonstrate_polysemy()",
        "    ‚ïë            üß†  CORTICAL TEXT PROCESSOR SHOWCASE  üß†                  ‚ïë"
      ],
      "lines_removed": [
        "class CorticalDemo:",
        "    \"\"\"Demonstrates the cortical text processor with interesting analysis.\"\"\"",
        "        ",
        "        ",
        "    ‚ïë              üß†  CORTICAL TEXT PROCESSOR DEMO  üß†                    ‚ïë"
      ],
      "context_before": [
        "",
        "",
        "def render_bar(value: float, max_value: float, width: int = 30) -> str:",
        "    \"\"\"Render a text-based progress bar.\"\"\"",
        "    if max_value == 0:",
        "        return \" \" * width",
        "    filled = int((value / max_value) * width)",
        "    return \"‚ñà\" * filled + \"‚ñë\" * (width - filled)",
        "",
        ""
      ],
      "context_after": [
        "    ",
        "    def __init__(self, samples_dir: str = \"samples\"):",
        "        self.samples_dir = samples_dir",
        "        self.processor = CorticalTextProcessor()",
        "        self.loaded_files = []",
        "    ",
        "    def run(self):",
        "        \"\"\"Run the complete demo.\"\"\"",
        "        self.print_intro()",
        "        if not self.ingest_corpus():",
        "            print(\"No documents found!\")",
        "            return",
        "        self.analyze_hierarchy()",
        "        self.discover_key_concepts()",
        "        self.analyze_tfidf()",
        "        self.find_concept_associations()",
        "        self.analyze_document_relationships()",
        "        self.demonstrate_queries()",
        "        self.demonstrate_gap_analysis()",
        "        self.demonstrate_embeddings()",
        "        self.print_insights()",
        "    ",
        "    def print_intro(self):",
        "        \"\"\"Print introduction.\"\"\"",
        "        print(\"\"\"",
        "    ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó",
        "    ‚ïë                                                                      ‚ïë",
        "    ‚ïë                                                                      ‚ïë",
        "    ‚ïë     Mimicking how the neocortex processes and understands text       ‚ïë",
        "    ‚ïë                                                                      ‚ïë",
        "    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù",
        "        \"\"\")",
        "    ",
        "    def ingest_corpus(self) -> bool:",
        "        \"\"\"Ingest the document corpus from disk.\"\"\"",
        "        print_header(\"DOCUMENT INGESTION\", \"‚ïê\")",
        "        "
      ],
      "change_type": "modify"
    },
    {
      "file": "showcase.py",
      "function": "class CorticalDemo:",
      "start_line": 258,
      "lines_added": [
        "    def demonstrate_polysemy(self):",
        "        \"\"\"Demonstrate polysemy - same word, different meanings.\"\"\"",
        "        print_header(\"POLYSEMY DEMONSTRATION\", \"‚ïê\")",
        "",
        "        print(\"Polysemy occurs when the same word has multiple meanings.\")",
        "        print(\"This affects retrieval when query terms are ambiguous.\\n\")",
        "",
        "        # Query for \"candle sticks\"",
        "        query = \"candle sticks\"",
        "        print_subheader(f\"üîç Query: '{query}'\")",
        "",
        "        results = self.processor.find_documents_for_query(query, top_n=6)",
        "        print(\"\\n    Results:\")",
        "        for doc_id, score in results:",
        "            print(f\"      ‚Ä¢ {doc_id} (score: {score:.3f})\")",
        "",
        "        # Explain the polysemy",
        "        print(\"\\n    üìù Analysis:\")",
        "        print(\"    The query tokenizes to: ['candle', 'sticks']\")",
        "        print()",
        "        print(\"    'sticks' appears in multiple contexts:\")",
        "        print(\"      ‚Ä¢ candlestick_patterns - trading chart patterns\")",
        "        print(\"      ‚Ä¢ letterpress_printing - 'composing sticks' (typesetting tools)\")",
        "        print()",
        "        print(\"    This is a classic word sense disambiguation challenge.\")",
        "        print(\"    The system correctly finds both but cannot distinguish intent.\")",
        "",
        "        # Show the actual text snippets",
        "        layer0 = self.processor.get_layer(CorticalLayer.TOKENS)",
        "        if 'sticks' in layer0.minicolumns:",
        "            col = layer0.minicolumns['sticks']",
        "            print(f\"\\n    'sticks' appears in {len(col.document_ids)} documents:\")",
        "            for doc_id in col.document_ids:",
        "                print(f\"      ‚Ä¢ {doc_id}\")",
        "",
        "        print(\"\\n    üí° Potential improvements:\")",
        "        print(\"      ‚Ä¢ Weight adjacent term matches higher (bigram boost)\")",
        "        print(\"      ‚Ä¢ Use document context for disambiguation\")",
        "        print(\"      ‚Ä¢ Implement word sense disambiguation\")",
        "        print()",
        ""
      ],
      "lines_removed": [],
      "context_before": [
        "            if new_terms:",
        "                print(f\"    Expanded with: {', '.join(new_terms[:6])}\")",
        "            ",
        "            # Find documents",
        "            results = self.processor.find_documents_for_query(query, top_n=3)",
        "            print(f\"\\n    Top documents:\")",
        "            for doc_id, score in results:",
        "                print(f\"      ‚Ä¢ {doc_id} (score: {score:.3f})\")",
        "            print()",
        "    "
      ],
      "context_after": [
        "    def demonstrate_gap_analysis(self):",
        "        \"\"\"Show knowledge gap detection.\"\"\"",
        "        print_header(\"KNOWLEDGE GAP ANALYSIS\", \"‚ïê\")",
        "        ",
        "        print(\"Detecting gaps and anomalies in the corpus:\\n\")",
        "        ",
        "        gaps = self.processor.analyze_knowledge_gaps()",
        "        ",
        "        print(f\"  Coverage Score: {gaps['coverage_score']:.1%}\")",
        "        print(f\"  Connectivity Score: {gaps['connectivity_score']:.4f}\")"
      ],
      "change_type": "add"
    },
    {
      "file": "showcase.py",
      "function": "class CorticalDemo:",
      "start_line": 344,
      "lines_added": [
        "    showcase = CorticalShowcase(samples_dir=\"samples\")",
        "    showcase.run()"
      ],
      "lines_removed": [
        "    demo = CorticalDemo(samples_dir=\"samples\")",
        "    demo.run()"
      ],
      "context_before": [
        "        print(\"  ‚úì Computed TF-IDF for discriminative analysis\")",
        "        print(\"  ‚úì Found associations through lateral connections\")",
        "        print(\"  ‚úì Identified document relationships\")",
        "        print(\"  ‚úì Detected knowledge gaps and anomalies\")",
        "        print(\"  ‚úì Computed graph embeddings\")",
        "        print(\"  ‚úì Enabled semantic queries with expansion\")",
        "        print(\"‚ïê\" * 70 + \"\\n\")",
        "",
        "",
        "if __name__ == \"__main__\":"
      ],
      "context_after": [],
      "change_type": "modify"
    }
  ],
  "hour_of_day": 20,
  "day_of_week": "Tuesday",
  "seconds_since_last_commit": -492307,
  "is_merge": false,
  "is_initial": false,
  "parent_count": 1,
  "session_id": null,
  "related_chats": [],
  "ci_result": null,
  "reverted": false,
  "amended": false
}