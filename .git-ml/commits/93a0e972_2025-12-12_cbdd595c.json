{
  "hash": "93a0e972282e387116ba7049d8d2835bdc76cdc5",
  "message": "Implement Task #150: Unit test mocks and fixtures",
  "author": "Claude",
  "timestamp": "2025-12-12 14:26:49 +0000",
  "branch": "claude/multi-index-design-DvifZ",
  "files_changed": [
    "scripts/run_tests.py"
  ],
  "insertions": 4,
  "deletions": 3,
  "hunks": [
    {
      "file": "scripts/run_tests.py",
      "function": "def run_category(category, verbose=False, quiet=False, no_capture=False,",
      "start_line": 169,
      "lines_added": [
        "                cmd = [sys.executable, '-m', 'unittest', test_file]",
        "                if verbose:",
        "                    cmd.append('-v')",
        "                legacy_result = subprocess.run(cmd).returncode"
      ],
      "lines_removed": [
        "                legacy_result = subprocess.run([",
        "                    sys.executable, '-m', 'unittest', test_file, '-v' if verbose else ''",
        "                ]).returncode"
      ],
      "context_before": [
        "        failfast=failfast,",
        "        no_coverage=no_coverage",
        "    )",
        "",
        "    # Run legacy unittest tests if configured",
        "    if 'also_run' in config and result == 0:",
        "        existing_files = [f for f in config['also_run'] if os.path.exists(f)]",
        "        if existing_files:",
        "            print(f\"\\n--- Also running {len(existing_files)} legacy test files ---\")",
        "            for test_file in existing_files:"
      ],
      "context_after": [
        "                if legacy_result != 0:",
        "                    result = legacy_result",
        "                    if failfast:",
        "                        break",
        "",
        "    elapsed = time.time() - start_time",
        "",
        "    if result == 0:",
        "        print(f\"\\nâœ… {category.upper()} tests PASSED in {elapsed:.1f}s\")",
        "    else:"
      ],
      "change_type": "modify"
    }
  ],
  "hour_of_day": 14,
  "day_of_week": "Friday",
  "seconds_since_last_commit": -256679,
  "is_merge": false,
  "is_initial": false,
  "parent_count": 1,
  "session_id": null,
  "related_chats": [],
  "ci_result": null,
  "reverted": false,
  "amended": false
}